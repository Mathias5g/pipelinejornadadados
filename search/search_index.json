{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome to MkDocs","text":"<p>               Bases: <code>BaseModel</code></p> <p>\" Modelo de dados para a venda</p> <p>Parameters:</p> Name Type Description Default <code>email</code> <code>EmailStr</code> <p>email do vendedor</p> required <code>nome</code> <code>str</code> <p>nome do vendedor</p> required <code>data</code> <code>datetime</code> <p>data da venda</p> required <code>valor</code> <code>PositiveFloat</code> <p>valor da venda</p> required <code>produto</code> <code>ProdutoEnum</code> <p>produto vendido</p> required Source code in <code>contrato.py</code> <pre><code>class Venda(BaseModel):\n    \"\"\"\"\n    Modelo de dados para a venda\n\n    Args:\n        email (EmailStr): email do vendedor\n        nome (str): nome do vendedor\n        data (datetime): data da venda\n        valor (PositiveFloat): valor da venda\n        produto (ProdutoEnum): produto vendido\n    \"\"\"\n\n    email: EmailStr\n    nome: str\n    data: datetime\n    valor: PositiveFloat\n    produto: ProdutoEnum\n</code></pre> <p>\" Fun\u00e7\u00e3o pra salvar no banco de dados PostgreSQL</p> Source code in <code>database.py</code> <pre><code>def salvar_no_postgres(dados: Venda):\n    \"\"\"\"\n    Fun\u00e7\u00e3o pra salvar no banco de dados PostgreSQL\n    \"\"\"\n    try:\n        conn = psycopg2.connect(\n            host=DB_HOST,\n            database=DB_NAME,\n            user=DB_USER,\n            password=DB_PASS\n        )\n        cur = conn.cursor()\n\n        # Inser\u00e7\u00e3o de dados na tabela de vendas\n        insert_query = sql.SQL(\n            \"INSERT INTO vendas (email, nome, data, valor, produto) VALUES (%s, %s, %s, %s, %s)\"\n        )\n        cur.execute(insert_query, (\n            dados.email,\n            dados.nome,\n            dados.data,\n            dados.valor,\n            dados.produto.value\n        ))\n        conn.commit()\n        cur.close()\n        conn.close()\n        st.success('Venda salva com sucesso!')\n    except Exception as e:\n        st.error(e)\n</code></pre>"}]}